<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <title>Vozes da Pir√¢mide</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
</head>
<body class="theme-dark">

<div class="container">

    <!-- ============================================= -->
    <!-- HEADER / STATUS / TEMA                        -->
    <!-- ============================================= -->
    <header class="header">
        <div>
            <h1><span>Vozes da pir√¢mide</span></h1>
            <p class="subtitle">
                Desabafos an√¥nimos sobre o dia a dia dentro da empresa.
            </p>
        </div>

        <div class="header-right">
            <div class="status-pill">
                <div id="status-dot" class="status-dot offline"></div>
                <span id="status-text">Verificando servidor...</span>
            </div>

            <button id="theme-toggle" class="icon-btn" title="Alternar tema">
                üåô
            </button>
        </div>
    </header>

    <!-- ============================================= -->
    <!-- ASSUNTOS QUENTES                              -->
    <!-- ============================================= -->
    <section class="card topics-card">
        <div class="topics-header">
            <span class="topics-title">Assuntos mais quentes</span>
            <span class="topics-hint">baseado nas hashtags dos √∫ltimos desabafos</span>
        </div>
        <div id="top-topics" class="topics-row">
            <!-- preenchido via JS -->
            <span class="topic-pill empty">Sem assuntos ainda. Use hashtags como #exausto, #chefia, #metas...</span>
        </div>
    </section>

    <!-- ============================================= -->
    <!-- CARD NOVO POST                                -->
    <!-- ============================================= -->
    <section class="card">
        <div class="input-wrapper">
            <div class="inside-label">
                <span class="brand">Protesto an√¥nimo</span>
                <span class="tagline">‚Äî escreva sem citar nomes reais</span>
            </div>
            <textarea id="post-text" rows="3"
                      placeholder="Conte o que est√° acontecendo a√≠ dentro. Voc√™ pode usar hashtags como #exausto #chefia #sobrecarregado..."></textarea>
        </div>

        <div class="post-toolbar">
            <button id="btn-escolher-classe" class="secondary small-btn">
                Escolher posi√ß√£o na pir√¢mide
            </button>
            <span id="post-error" class="error-msg"></span>

            <div class="post-toolbar-right">
                <button id="btn-postar" class="primary" disabled>
                    Postar anonimamente
                </button>
            </div>
        </div>
    </section>

    <!-- ============================================= -->
    <!-- FEED                                          -->
    <!-- ============================================= -->
    <section class="card">
        <div class="feed-header-row">
            <div class="feed-title">Feed de indigna√ß√µes</div>
            <button id="btn-reload" class="secondary small-btn">
                Atualizar feed
            </button>
        </div>

        <div id="feed" class="feed">
            <!-- posts via JS -->
        </div>
    </section>

</div>

<!-- ============================================= -->
<!-- MODAL PIR√ÇMIDE                                -->
<!-- ============================================= -->
<div id="class-modal-backdrop" class="modal-backdrop">
    <div class="modal">
        <div class="modal-header">
            <div class="modal-title">Escolha sua posi√ß√£o na pir√¢mide</div>
            <button id="modal-close" class="modal-close secondary">fechar</button>
        </div>

        <div class="modal-sub">
            Clique em uma das faixas da pir√¢mide para continuar.
        </div>

        <div class="pyramid-wrapper">
            <!-- Pir√¢mide com 3 blocos que formam 1 tri√¢ngulo -->
            <svg id="pyramid-svg" class="pyramid-svg" viewBox="0 0 100 120" xmlns="http://www.w3.org/2000/svg">
                <!-- contorno geral -->
                <polygon class="outline" points="50,5 5,115 95,115" />

                <!-- BASE: √°rea entre y=70 e y=115 -->
                <polygon data-classe="base" points="50,70 12,115 88,115" />

                <!-- MEIO: √°rea entre y=40 e y=70 (dentro do tri√¢ngulo) -->
                <polygon data-classe="meio" points="50,40 22,95 78,95" />

                <!-- TOPO: √°rea entre y=5 e y=40 -->
                <polygon data-classe="topo" points="50,10 34,50 66,50" />

                <!-- linhas internas -->
                <line x1="23" y1="95" x2="77" y2="95" stroke="#e5e7eb" stroke-width="1.3" />
                <line x1="34" y1="50" x2="66" y2="50" stroke="#e5e7eb" stroke-width="1.3" />

                <!-- labels -->
                <text x="50" y="34" text-anchor="middle">TOPO</text>
                <text x="50" y="73" text-anchor="middle">MEIO</text>
                <text x="50" y="105" text-anchor="middle">BASE</text>
            </svg>
        </div>

        <div class="modal-footer">
            Nada √© salvo sobre voc√™. Apenas o texto, a classe e as hashtags.
        </div>
    </div>
</div>

<!-- ============================================= -->
<!-- MODAL DE AJUDA ( ? )                          -->
<!-- ============================================= -->
<div id="help-modal" class="modal-backdrop">
    <div class="modal">
        <div class="modal-header">
            <div class="modal-title">Sobre este lugar</div>
            <button id="help-close" class="modal-close secondary">fechar</button>
        </div>
        <div class="modal-sub">
            Apenas um trabalhador indignado.
        </div>
        <p class="help-text">
            Esse espa√ßo √© um experimento de desabafos an√¥nimos sobre o trabalho.
            Evite citar nomes, CNPJs ou qualquer coisa que identifique pessoas diretamente.
            Use hashtags para marcar assuntos (#exausto, #chefia, #sal√°rio, #burnout...).
        </p>
    </div>
</div>

<!-- ============================================= -->
<!-- BOT√ÉO FIXO "?"                                -->
<!-- ============================================= -->
<button id="help-btn" class="help-floating">?</button>

<script src="script.js"></script>
</body>
</html>
